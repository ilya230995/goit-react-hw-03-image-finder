{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/apiService/apiService.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","inputValue","searchbarHandler","e","setState","currentTarget","value","toLowerCase","submitHandler","preventDefault","props","onSubmit","this","className","s","SearchForm","type","SearchFormBbutton","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","onOpenImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","pictures","openImage","map","picture","largeImageURL","id","Button","newPage","fetchPics","searchQuery","page","url","fetch","then","res","json","pics","hits","Modal","closePictureByClickEsc","keyCode","closeImage","closeImageOnOverlay","target","window","addEventListener","removeEventListener","Overlay","largeImage","App","loading","largeImageSrc","error","addSearchbarValue","query","ApiService","prevState","catch","finally","openModal","closeModal","prevProps","length","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2dd1caa8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Mzbt\",\"Modal\":\"Modal_Modal__36zVh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1yHcu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPage\":\"Button_newPage__2nHoF\"};","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: null,\r\n  };\r\n  searchbarHandler = e => {\r\n    this.setState({ inputValue: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n\r\n    this.setState({ inputValue: null });\r\n  };\r\n  render() {\r\n    const { submitHandler, searchbarHandler } = this;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={submitHandler}>\r\n          <button type=\"submit\" className={s.SearchFormBbutton}>\r\n            <span className=\"SearchForm-button-label\"></span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={searchbarHandler}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ webformatURL, onOpenImage }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"asd\"\r\n        className={s.ImageGalleryItemImage}\r\n        onClick={onOpenImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  onOpenImage: PropTypes.func,\r\n  webformatURL: PropTypes.string,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ pictures, openImage }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {pictures.map(picture => (\r\n        <ImageGalleryItem\r\n          key={picture.id}\r\n          webformatURL={picture.webformatURL}\r\n          onOpenImage={() => openImage(picture.largeImageURL)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(PropTypes.object),\r\n  openImage: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button className={s.newPage} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","function fetchPics(searchQuery, page = 1) {\r\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=18801685-89b573afa326cacf166b5903d`;\r\n\r\n  return fetch(url)\r\n    .then(res => res.json())\r\n    .then(pics => pics.hits);\r\n}\r\n\r\nexport default fetchPics;\r\n","import { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    closeImage: propTypes.func.isRequired,\r\n    largeImage: propTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keyup', this.closePictureByClickEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keyup', this.closePictureByClickEsc);\r\n  }\r\n\r\n  closePictureByClickEsc = e => {\r\n    e.keyCode === 27 && this.props.closeImage();\r\n  };\r\n\r\n  closeImageOnOverlay = e => {\r\n    e.target === e.currentTarget && this.props.closeImage();\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay}>\r\n        <div className={s.Modal} onClick={this.closeImageOnOverlay}>\r\n          <img src={this.props.largeImage} alt=\"pic\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\n\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport ApiService from './Components/apiService';\nimport Loader from 'react-loader-spinner';\nimport Modal from './Components/Modal';\n\nclass App extends Component {\n  state = {\n    searchQuery: null,\n    pictures: [],\n    page: 1,\n    loading: false,\n    largeImageSrc: null,\n    error: null,\n  };\n\n  addSearchbarValue = query => {\n    this.setState({ searchQuery: query, pictures: [], page: 1 });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { pictures, searchQuery } = this.state;\n    if (prevState.pictures.length !== pictures) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n\n    if (prevState.searchQuery !== searchQuery && searchQuery !== '') {\n      this.fetchPics();\n    }\n  }\n\n  fetchPics = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n\n    ApiService(searchQuery, page)\n      .then(picture =>\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...picture],\n          page: prevState.page + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  openModal = url => {\n    this.setState({ largeImageSrc: url });\n  };\n  closeModal = () => {\n    this.setState({ largeImageSrc: '' });\n  };\n\n  render() {\n    const { addSearchbarValue, openModal, fetchPics, closeModal } = this;\n    const { pictures, loading, largeImageSrc, error } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={addSearchbarValue} />\n        {pictures.length > 0 && !error && (\n          <ImageGallery pictures={pictures} openImage={openModal} />\n        )}\n        {loading && <Loader />}\n        {pictures.length !== 0 && !loading && <Button onClick={fetchPics} />}\n        {largeImageSrc && (\n          <Modal largeImage={largeImageSrc} closeImage={closeModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tHdqN\",\"SearchForm\":\"Searchbar_SearchForm__1Z9L0\",\"SearchFormBbutton\":\"Searchbar_SearchFormBbutton__2RcFB\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2u2sU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2k2pQ\"};"],"sourceRoot":""}